<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title> 2 Methods | The Effects of Mode Choice Model Consistency between Activity-based Models and Microsimulation Tools</title>
  <meta name="description" content="A short description" />
  <meta name="generator" content="bookdown 0.24 and GitBook 2.6.7" />

  <meta property="og:title" content=" 2 Methods | The Effects of Mode Choice Model Consistency between Activity-based Models and Microsimulation Tools" />
  <meta property="og:type" content="book" />
  
  
  <meta property="og:description" content="A short description" />
  

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content=" 2 Methods | The Effects of Mode Choice Model Consistency between Activity-based Models and Microsimulation Tools" />
  
  <meta name="twitter:description" content="A short description" />
  



<meta name="date" content="2021-12-12" />

  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="index.html"/>
<link rel="next" href="findings.html"/>
<style type="text/css">
p.abstract{
  text-align: center;
  font-weight: bold;
}
div.abstract{
  margin: auto;
  width: 90%;
}
</style>
<script src="libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/fuse.js@6.4.6/dist/fuse.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />








<link href="libs/anchor-sections-1.0.1/anchor-sections.css" rel="stylesheet" />
<script src="libs/anchor-sections-1.0.1/anchor-sections.js"></script>




<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">Mode Choice Calibration</a></li>

<li class="divider"></li>
<li class="chapter" data-level="1" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i><b>1</b> Question</a></li>
<li class="chapter" data-level="2" data-path="methods.html"><a href="methods.html"><i class="fa fa-check"></i><b>2</b> Methods</a></li>
<li class="chapter" data-level="3" data-path="findings.html"><a href="findings.html"><i class="fa fa-check"></i><b>3</b> Findings</a><ul>
<li class="chapter" data-level="3.1" data-path="findings.html"><a href="findings.html#additional-analysis"><i class="fa fa-check"></i><b>3.1</b> Additional Analysis</a></li>
</ul></li>
<li class="divider"></li>
<li><a href="https://github.com/rstudio/bookdown" target="blank">Published with bookdown</a></li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">The Effects of Mode Choice Model Consistency between Activity-based Models and Microsimulation Tools</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="methods" class="section level1">
<h1><span class="header-section-number"> 2</span> Methods</h1>
<p>In our research, the input population used to model behavior corresponds to individuals in the Salt Lake City, Utah, US Region. The activity-based model used to generate the microsimulation input data is ActivitySim <span class="citation">(“ActivitySim” <a href="#ref-activitysim" role="doc-biblioref">2021</a>)</span>. The microsimulation tool used to generate travel behavior data is BEAM <span class="citation">(“BEAM’s User Guide” <a href="#ref-beam" role="doc-biblioref">2021</a>)</span>.</p>
<p>ActivitySim implements a multifaceted mode choice model that is dependent on trip, tour, and purpose. One model determines the primary mode for each tour and a separate model determines the mode for each trip. In addition, each modal decision is dependent on the current tour purpose value. Contrastingly, BEAM’s default mode choice structure uses a simple multinomial logit model, independent of tour purpose value. Therefore, in order to test our hypothesis, we aligned the mode choice structure of BEAM (a microsimulation tool) with that of ActivitySim (an activity-based model).</p>
<p>To closely align the mode choice structure of BEAM with ActivitySim, we changed much about the code structure inside of BEAM. More specifically, we wrote code that forced modal decisions to be based on tour purpose values. We also implemented the use of ActivitySim’s path, person, and location utility parameter values to calculate modal alternative probabilities. These simple steps allowed us to create consistency between an activity-based model and a microsimulation tool.</p>
<p>To test the effectiveness of our calibrated mode choice model, we conducted five different test scenarios within BEAM and compared their outputs with eachout. Each test scenario that we simulated used a multinomial logit function to determine modal probabilities. Although all used a multinomial logit function, each scenario used a different utility function to predict behavior.</p>
<p>The first sceneario we ran used the default BEAM structure. This represented a model with an inconsistent mode choice structure <a href="methods.html#eq:label1">(2.1)</a>. The next three scenarios we ran used a purpose based model with part of ActivitySim’s utility function (either using the path <a href="methods.html#eq:label2">(2.2)</a>, person <a href="methods.html#eq:label3">(2.3)</a>, or location type <a href="methods.html#eq:label4">(2.4)</a> variables). These represented models with semi-consistent mode choice structures. The last scenario we ran used a pupose based model with ActivitySim’s complete utility function. This represented a model with a consistent mode choice structure <a href="methods.html#eq:label5">(2.5)</a>. Simplified versions of the utility function used in each of the scenarios can be seen in the following equations.<br />
</p>
<p><em>Eq 1: BEAM’s Default Utility Equation</em></p>
<p><span class="math display" id="eq:label1">\[\begin{equation}
  V_j = ASC_j + \beta_{c}(c) + \beta_{t}(t) + \beta_{xfer}(xfer) \tag{2.1}
\end{equation}\]</span></p>
<p>where</p>
<ul>
<li><span class="math inline">\(j\)</span> is the modal alternative,</li>
<li><span class="math inline">\(c\)</span> is the cost,</li>
<li><span class="math inline">\(t\)</span> is the travel time, and</li>
<li><span class="math inline">\(xfer\)</span> is the number of transfers.</li>
</ul>
<p><em>Eq 2: Utility Equation using ActivitySim’s Path Variables</em></p>
<p><span class="math display" id="eq:label2">\[\begin{equation}
  V_j = \beta_{t_v}(t_v) + \beta_{t_w}(t_w) + \beta_{t_e}(t_e) + \beta_{tr_p}(tr_p) + \beta_{xfer}(xfer) + \beta_{w_{dis}}(w_{dis}) + \\ \beta_{b_{dis}}(b_{dis}) + \beta_{d_{dis}}(d_{dis}) \tag{2.2}
\end{equation}\]</span></p>
<p>where</p>
<ul>
<li><span class="math inline">\(j\)</span> is the modal alternative,</li>
<li><span class="math inline">\(t_v\)</span> is the in vehicle travel time (mins),</li>
<li><span class="math inline">\(t_w\)</span> is the wait time (mins),</li>
<li><span class="math inline">\(t_e\)</span> is the egress time (mins),</li>
<li><span class="math inline">\(tr_p\)</span> is the proximity to transit (miles),</li>
<li><span class="math inline">\(xfer\)</span> is the number of transfers,</li>
<li><span class="math inline">\(w_{dis}\)</span> is the walk distance (miles),</li>
<li><span class="math inline">\(b_{dis}\)</span> is the bike distance (miles),</li>
<li><span class="math inline">\(d_{dis}\)</span> is the drive distance (miles),</li>
<li><span class="math inline">\(\beta_{tr_p}\)</span> differs between origin/destination and length, and</li>
<li><span class="math inline">\(\beta_{w_{dis}}\)</span>, <span class="math inline">\(\beta_{b_{dis}}\)</span>, and <span class="math inline">\(\beta_{d_{dis}}\)</span> differ between lengths.</li>
<li><em>Note:</em> All <span class="math inline">\(\beta\)</span> values differ between mode and tour purpose.</li>
</ul>
<p><em>Eq 3: Utility Equation using ActivitySim’s Person Variables</em></p>
<p><span class="math display" id="eq:label3">\[\begin{equation}
  V_j = ASC_{auto} +  \beta_{c}(c) + \beta_{ag}(ag) \tag{2.3}
\end{equation}\]</span></p>
<p>where</p>
<ul>
<li><span class="math inline">\(j\)</span> is the modal alternative,</li>
<li><span class="math inline">\(ASC_{auto}\)</span> is the alternative specific constant that differs between modal alternative and auto ownership dependency,</li>
<li><span class="math inline">\(c\)</span> is the cost, and</li>
<li><span class="math inline">\(ag\)</span> is the age grouping (if the person is between 0-10 or 16-19 years old).</li>
<li><em>Note:</em> All <span class="math inline">\(\beta\)</span> values differ between mode and tour purpose.</li>
</ul>
<p><em>Eq 4: Utility Equation using ActivitySim’s Location Variables</em></p>
<p><span class="math display" id="eq:label4">\[\begin{equation}
  V_j = \beta_{zdi}(zdi) + \beta_{cbd}(cbd) \tag{2.4}
\end{equation}\]</span></p>
<p>where</p>
<ul>
<li><span class="math inline">\(j\)</span> is the modal alternative</li>
<li><span class="math inline">\(zdi\)</span> is the zonal density index,</li>
<li><span class="math inline">\(cbd\)</span> is a classifier for zones labeled as central business district, and</li>
<li><span class="math inline">\(\beta_{zdi}\)</span> differs between origin/destination.</li>
<li><em>Note:</em> All <span class="math inline">\(\beta\)</span> values differ between mode and tour purpose.</li>
</ul>
<p><em>Eq 5: Utility Equation using All of ActivitySim’s Variables</em></p>
<p><span class="math display" id="eq:label5">\[\begin{equation}  
  V_j = Eq:2 + Eq:3 + Eq:4 \tag{2.5}
\end{equation}\]</span></p>
<p>where</p>
<ul>
<li><span class="math inline">\(j\)</span> is the modal alternative.</li>
</ul>

</div>
<h3>References</h3>
<div id="refs" class="references">
<div id="ref-activitysim">
<p>“ActivitySim.” 2021. <em>ActivitySim</em>. Metropolitan Transportation Commission. <a href="https://activitysim.github.io/activitysim/">https://activitysim.github.io/activitysim/</a>.</p>
</div>
<div id="ref-beam">
<p>“BEAM’s User Guide.” 2021. <em>User’s Guide - Beam 0.7.0 Documentation</em>. Lawrence Berkeley National Laboratory. <a href="https://beam.readthedocs.io/en/latest/users.html">https://beam.readthedocs.io/en/latest/users.html</a>.</p>
</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="index.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="findings.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"whatsapp": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": null,
"text": null
},
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": ["mode_choice_calibration.pdf", "mode_choice_calibration.epub"],
"search": {
"engine": "fuse",
"options": null
},
"toc": {
"collapse": "subsection"
}
});
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:")
      if (/^https?:/.test(src))
        src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>

</html>
