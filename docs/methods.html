<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title> 2 Methods | Calibrating the Mode Choice Models of an Activity-Based Model and a Micro-Simulation Tool</title>
  <meta name="description" content="A short description" />
  <meta name="generator" content="bookdown 0.24 and GitBook 2.6.7" />

  <meta property="og:title" content=" 2 Methods | Calibrating the Mode Choice Models of an Activity-Based Model and a Micro-Simulation Tool" />
  <meta property="og:type" content="book" />
  
  
  <meta property="og:description" content="A short description" />
  

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content=" 2 Methods | Calibrating the Mode Choice Models of an Activity-Based Model and a Micro-Simulation Tool" />
  
  <meta name="twitter:description" content="A short description" />
  



<meta name="date" content="2021-10-29" />

  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="index.html"/>
<link rel="next" href="findings.html"/>
<style type="text/css">
p.abstract{
  text-align: center;
  font-weight: bold;
}
div.abstract{
  margin: auto;
  width: 90%;
}
</style>
<script src="libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/fuse.js@6.4.6/dist/fuse.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />








<link href="libs/anchor-sections-1.0.1/anchor-sections.css" rel="stylesheet" />
<script src="libs/anchor-sections-1.0.1/anchor-sections.js"></script>


<style type="text/css">
a.sourceLine { display: inline-block; line-height: 1.25; }
a.sourceLine { pointer-events: none; color: inherit; text-decoration: inherit; }
a.sourceLine:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode { white-space: pre; position: relative; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
code.sourceCode { white-space: pre-wrap; }
a.sourceLine { text-indent: -1em; padding-left: 1em; }
}
pre.numberSource a.sourceLine
  { position: relative; left: -4em; }
pre.numberSource a.sourceLine::before
  { content: attr(title);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; pointer-events: all; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {  }
@media screen {
a.sourceLine::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>


<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">Mode Choice Calibration</a></li>

<li class="divider"></li>
<li class="chapter" data-level="1" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i><b>1</b> Question</a><ul>
<li class="chapter" data-level="1.1" data-path="index.html"><a href="index.html#background"><i class="fa fa-check"></i><b>1.1</b> Background</a></li>
</ul></li>
<li class="chapter" data-level="2" data-path="methods.html"><a href="methods.html"><i class="fa fa-check"></i><b>2</b> Methods</a><ul>
<li class="chapter" data-level="2.1" data-path="methods.html"><a href="methods.html#data"><i class="fa fa-check"></i><b>2.1</b> Data</a></li>
<li class="chapter" data-level="2.2" data-path="methods.html"><a href="methods.html#models"><i class="fa fa-check"></i><b>2.2</b> Models</a></li>
</ul></li>
<li class="chapter" data-level="3" data-path="findings.html"><a href="findings.html"><i class="fa fa-check"></i><b>3</b> Findings</a><ul>
<li class="chapter" data-level="3.1" data-path="findings.html"><a href="findings.html#additional-analysis"><i class="fa fa-check"></i><b>3.1</b> Additional Analysis</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="references.html"><a href="references.html"><i class="fa fa-check"></i>References</a></li>
<li class="divider"></li>
<li><a href="https://github.com/rstudio/bookdown" target="blank">Published with bookdown</a></li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Calibrating the Mode Choice Models of an Activity-Based Model and a Micro-Simulation Tool</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="methods" class="section level1">
<h1><span class="header-section-number"> 2</span> Methods</h1>
<p>In this chapter, you describe the approach you have taken on the problem. This usually involves a discussion about both the data you used and the models you applied.</p>
<p>Discuss where you got your data, how you cleaned it, any assumptions you made.</p>
<p>If your work is mostly a new model, you probably will have introduced some details in the literature review. But this is where you describe the mathematical construction of your model, the variables it uses, and other things.</p>
<div id="data" class="section level2">
<h2><span class="header-section-number">2.1</span> Data</h2>
<p>One dataset that I am thinking about using in the activitysim tour mode values.</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb1-1" title="1">asim_tour_coeffs &lt;-<span class="st"> </span><span class="kw">read_csv</span>(<span class="st">&quot;data/mtc_2012_tour_mode_choice_coefficients.txt&quot;</span>)</a>
<a class="sourceLine" id="cb1-2" title="2"><span class="kw">tibble</span>(asim_tour_coeffs)</a></code></pre></div>
<pre><code>## # A tibble: 41 x 11
##    Variable     Work College School Escort   Shop `Eat Out` Maint. Social Discr.
##    &lt;chr&gt;       &lt;dbl&gt;   &lt;dbl&gt;  &lt;dbl&gt; &lt;chr&gt;   &lt;dbl&gt;     &lt;dbl&gt;  &lt;dbl&gt;  &lt;dbl&gt;  &lt;dbl&gt;
##  1 ivtt_auto~ -0.022  -0.027 -0.027 -0.028 -0.028    -0.028 -0.028 -0.028 -0.028
##  2 ivtt_ligh~ -0.02   -0.024 -0.024 -0.025 -0.025    -0.025 -0.025 -0.025 -0.025
##  3 ivtt_ferry -0.018  -0.022 -0.022 -0.022 -0.022    -0.022 -0.022 -0.022 -0.022
##  4 ivtt_expr~ -0.018  -0.018 -0.018 -0.018 -0.018    -0.018 -0.018 -0.018 -0.018
##  5 ivtt_heav~ -0.018  -0.022 -0.022 -0.022 -0.022    -0.022 -0.022 -0.022 -0.022
##  6 wait_time~ -0.044  -0.054 -0.054 -0.056 -0.056    -0.056 -0.056 -0.056 -0.056
##  7 wait_time~ -0.022  -0.027 -0.027 -0.028 -0.028    -0.028 -0.028 -0.028 -0.028
##  8 egress_ti~ -0.044  -0.054 -0.054 -0.056 -0.056    -0.056 -0.056 -0.056 -0.056
##  9 transfer_~ -0.044  -0.054 -0.054 -0.056 -0.056    -0.056 -0.056 -0.056 -0.056
## 10 origin_cl~ -0.293  -0.362 -0.362 -0.372 -0.372    -0.372 -0.372 -0.372 -0.372
## # ... with 31 more rows, and 1 more variable: At-Work &lt;dbl&gt;</code></pre>
<p>Lets read them in a make a cool graph. (Note: I still have to double these values.)</p>
<div class="sourceCode" id="cb3"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb3-1" title="1">asim_hbw &lt;-<span class="st"> </span><span class="kw">asim_table</span>(asim_tour_coeffs,Work)</a></code></pre></div>
<pre><code>## `summarise()` has grouped output by &#39;term&#39;. You can override using the `.groups` argument.</code></pre>
<div class="sourceCode" id="cb5"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb5-1" title="1">asim_hbw_ivtt &lt;-<span class="st"> </span><span class="kw">as.numeric</span>(asim_hbw[<span class="dv">4</span>,<span class="st">&quot;estimate&quot;</span>])</a>
<a class="sourceLine" id="cb5-2" title="2">asim_hbw_ratio &lt;-<span class="st"> </span>asim_hbw <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">mutate</span>(<span class="dt">estimate =</span> estimate<span class="op">/</span>asim_hbw_ivtt,<span class="dt">std.error =</span> <span class="dv">0</span>)</a>
<a class="sourceLine" id="cb5-3" title="3">hbw_graph &lt;-<span class="st"> </span><span class="kw">ivtt_ratio_grapher</span>(<span class="st">&quot;Home-Based Work&quot;</span>,asim_hbw_ratio)</a>
<a class="sourceLine" id="cb5-4" title="4">hbw_graph</a></code></pre></div>
<p><img src="mode_choice_calibration_files/figure-html/unnamed-chunk-2-1.png" width="672" /></p>
</div>
<div id="models" class="section level2">
<h2><span class="header-section-number">2.2</span> Models</h2>
<div class="sourceCode" id="cb6"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb6-1" title="1"><span class="kw">tar_read</span>(mnlgraph)</a></code></pre></div>
<p><img src="mode_choice_calibration_files/figure-html/unnamed-chunk-3-1.png" width="672" /></p>

</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="index.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="findings.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"whatsapp": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": null,
"text": null
},
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": ["mode_choice_calibration.pdf", "mode_choice_calibration.epub"],
"search": {
"engine": "fuse",
"options": null
},
"toc": {
"collapse": "subsection"
}
});
});
</script>

</body>

</html>
